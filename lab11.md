**Цель работы![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.001.png)**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.002.png) Изучить основы программирования в оболочке ОС Unix. Научиться писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.

**Ход работы![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.003.png)**

**Используя команды getops grep, пишу командный файл, который анализирует командную строку с ключами:**

-iinputfile - прочитать данные из указанного файла ooutputfile - вывести данные в указанный файл -pшаблон - указать шаблон для поиска![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.004.png)

-C - различать большие и малые буквы

-n - выдавать номера строк,

**а затем ищет в указанном файле нужные строки, определяемые ключом -р**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.005.png)

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.006.png)

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.007.png)**Пишу на языке c программу, которая вводит число и определяет, является ли оно больше нуля, меньше нуля или равно нулю. Затем программа завершается с помощью функции exit(n), передавая информацию о коде завершения в оболочку. Командный файл должен вызывать эту программу и, проанализировав с помощью команды &?, выдать сообщение о том, какое число было введено**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.008.png)

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.009.png)

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.010.png)

**Пишу командный файл, создающий указанное число файлов, пронумерованных последовательно от 1 до N. Число файлов, которые необходимо создать, передаётся в аргументы командной строки. Этот же командный файл должен уметь удалять все созданные им файлы (если они существуют).**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.011.png)

**Написал командный файл, который с помощью команды tar запаковывает в архив все файлы в указанной директории. Модифицирую командный файл так, чтобы запаковывались только те файлы, которые были изменены менее недели тому назад (использую команду find)**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.012.jpeg)

**Вывод![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.013.png)**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.014.png) Я изучил основы программирования в оболочке ОС Unix более подробно. Научился писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.

**Ответы на контрольные вопросы![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.015.png)**

**Какого предназначение команды getopts?**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.016.png) Команда getopts - это встроенная команда оболочки bash, которая предназначена для разбора параметров сценария. Команда обрабатывает только однобуквенные параметры и с аргументами, и без них.

**Какое отношение метасимволы имеют к генерации имён файлов?**

- При генерации имен используют метасимволы:
  - произвольная (возможно пустая) последовательность символов
    - ? один произвольный символ
      - [...] любой из символов, указанных в скобках перечислением и/или с указанием диапазона
        - cat f\* выдаёт все файлы каталога, начинающиеся с "f"
          - cat f выдаёт все файлы, содержащие "f"
            - cat program.? выдаёт файлы данного каталога с однобуквенными расширениями, скажем "program.c" и "program.o", но не выдаст "program.com"
              - cat [a-d]\* выдаёт файлы, которые начинаются с "a", "b", "c", "d". Такой же результат выдадут 

и команды "cat [abcd]" и "cat [bdac]".

**Какие операторы управления действиями вы знаете?**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.017.png) Операторы && и || это управляющие операторы. Если в командной строке стоит command1 && command2, то command2 выполняется в том случае, если статус выхода из команды command1 равен нулю, что говорит о ее успешном завершении. Так же, если командная строка имеет вид command1 || command2, то команда command2 выполняется тогда, когда статус выхода из команды command1 отличен от нуля.

**Какие операторы используются для прерывания цикла?**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.018.png) Оператор break. Он завершает выполнение ближайшего включающего цикла или условного оператора, в котором он отображается.

**Для чего нужны команды false и true?**

- Команда true всегда возвращает ноль в качестве выходного статуса для индикации успеха.
  - Команда false всегда возвращает не-ноль в качестве выходного статуса для индикации неудачи.
    - Во всех управляющих конструкциях в качестве логического значения используется код возврата из программы, указанной в качестве условия. Код возврата 0 – истина, любое другое значение – ложь. Программа true – всегда завершается с кодом 0, false – всегда завершается с кодом 1.

**Что означает строка if test -f man$s/$i, встреченная в командной файле?**

![](Aspose.Words.a3048886-7269-41ff-9d07-8d839ac41184.019.png) Данная строка строка означает условие существования файла man$s/$i.$s

**Объясните различия между конструкциями while и until?**

- Цикл While выполняется до тех пор, пока указанное в нем условие истинно. Когда указанное условие становится ложным - цикл завершается.
  - Цикл Until выполняется до тех пор, пока указанное в нем условие ложно.
